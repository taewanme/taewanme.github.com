<!DOCTYPE html>
<html>
  <head>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2021-04-12T15:14:13 KST">

<meta name="description" content="오라클 클라우드 사용자 가이드입니다. 오라클 클라우드(OCI, Oracle Cloud Infrasturcture) 사용자를 위해 주요 문서를 정리합니다.">
<meta name="generator" content="Hugo 0.27.1" />
<meta property="og:title" content="Object Storage: PAR 기능 강화" />
<meta property="og:description" content="merong
다음과 같은 2021.04.06와 2021.04.09에 발표된 OCI Object Storage의 기능 업데이트 소식을 정리합니다.
 [2021.04.06:Release Note]Object Storage pre-authenticated request enhancements    [2021.04.09:Release Note]Object Storage Console bucket delete enhancements        Pre-authenticated request enhancements Bucket delete enhancements          OCI 새 소식은 OCI Release Notes에서 발표한 OCI 신규 업데이트 내용을 정리하는 섹션입니다. OCI 신규 기능 개선의 빠른 정보 전달을 목표로 합니다." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://taewan.kim/oci-livelogs/901.oci_news/202104/20210406-object-storage-par-enhance/" />



<meta property="article:published_time" content="2020-04-11T09:11:05&#43;09:00"/>
<meta property="article:modified_time" content="2020-04-11T09:11:05&#43;09:00"/>












<link rel="dns-prefetch" href="//fonts.googleapis.com" />



<title>Object Storage: PAR 기능 강화 :: OCI LiveLogs</title>

<link rel="shortcut icon" href="http://taewan.kim/img/icon/oracle.png" type="image/x-icon" />
<link href="/oci-livelogs/css/font-awesome.min.css" rel="stylesheet">
<link href="/oci-livelogs/css/nucleus.css" rel="stylesheet">
<link href="/oci-livelogs/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/oci-livelogs/css/bootstrap.min.css">
<script src="/oci-livelogs/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "http:\/\/taewan.kim\/oci-livelogs";
</script>
<meta name="description" content="오라클 클라우드 사용자 가이드입니다. 오라클 클라우드(OCI, Oracle Cloud Infrasturcture) 사용자를 위해 주요 문서를 정리합니다.">


<link href='/oci-livelogs/css/railload.css' rel="stylesheet"/>


<link href="/oci-livelogs/css/twstyle.css" rel="stylesheet">

<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?style=Sons-Of-Obsidian"></script>


<style>
    li.L0, li.L1, li.L2, li.L3,
    li.L5, li.L6, li.L7, li.L8
       { list-style-type: decimal !important }
</style>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-162015179-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-162015179-1');
</script>

    
  </head>
  <body data-url="/oci-livelogs/901.oci_news/202104/20210406-object-storage-par-enhance/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="http://taewan.kim/oci-livelogs">OCI LiveLogs</a>
  


  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="http://taewan.kim/"  rel="noopener">
                  <i class='fa fa-home'></i> <label>taewan.kim 블로그</label>
                </a>
            </li>
            <li class="" role="">
                <a href="http://taewan.kim/"  rel="noopener">
                  <i class='fa fa-youtube-play'></i> <label>Σ민수아빠</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://cloud.oracle.com"  rel="noopener">
                  <i class='fa fa-cloud'></i> <label>Oracle Cloud</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://docs.cloud.oracle.com/"  rel="noopener">
                  <i class='fa fa-book'></i> <label>OCI 공식문서</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
    <li data-nav-id="http://taewan.kim/oci-livelogs/000.index/" class="dd-item
        ">
      <div>
      <a href="/oci-livelogs/000.index/">OCI LiveLogs</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="http://taewan.kim/oci-livelogs/010.oci_user_guide/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/oci-livelogs/010.oci_user_guide/">OCI 사용자 가이드</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
        </ul>
    </li>
    <li data-nav-id="http://taewan.kim/oci-livelogs/050.data_ai/" class="dd-item haschildren
        ">
      <div>
      <a href="/oci-livelogs/050.data_ai/">OCI Data 및 AI</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="http://taewan.kim/oci-livelogs/050.data_ai/057.datascience/" class="dd-item
        ">
      <div>
      <a href="/oci-livelogs/050.data_ai/057.datascience/">OCI Data Science</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="http://taewan.kim/oci-livelogs/901.oci_news/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="/oci-livelogs/901.oci_news/">OCI 새소식</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="http://taewan.kim/oci-livelogs/901.oci_news/202104/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="/oci-livelogs/901.oci_news/202104/">2021.04 OCI 업데이트</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="http://taewan.kim/oci-livelogs/901.oci_news/202104/20210406-object-storage-par-enhance/" class="dd-item active">
        <div>
          <a href="/oci-livelogs/901.oci_news/202104/20210406-object-storage-par-enhance/">
            Object Storage: PAR 기능 강화
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>




    </ul>
    <section><hr />
<div class="widget-categories widget">
	<h4 class="widget__title">&nbsp;&nbsp;License</h4>
	<div class="widget__content">
		&nbsp;&nbsp;<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target=_blank><img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a>
	</div>
	<div class="widget__content">
        <div>
        이 저작물은 <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target=_blank>크리에이티브 커먼즈 저작자표시-비영리-동일조건변경허락 4.0 국제 라이선스</a>에 따라 이용할 수 있습니다.
        </div>
	</div>
</div>
<hr />
<div>
    <hr/>
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-8469722754608892"
         data-ad-slot="5594090168"
         data-ad-format="auto"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    <hr/>  
  </div>

    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/oci-livelogs/000.index/" >
   OCI LiveLogs</option>
    <option value="/oci-livelogs/010.oci_user_guide/" >
   OCI 사용자 가이드</option> 
    <option value="/oci-livelogs/010.oci_user_guide/quick_start/" >
  - 
   오라클 클라우드 첫걸음</option> 
      <option value="/oci-livelogs/010.oci_user_guide/quick_start/000.basic_concept/" >-- OCI 기본 용어 &amp; 개념</option>
      <option value="/oci-livelogs/010.oci_user_guide/quick_start/010.oci_free_tier/" >-- OCI Free Tier 신청</option>
      <option value="/oci-livelogs/010.oci_user_guide/quick_start/020.oci_marketing_free_tier/" >-- OCI Marketing Free Tier 신청</option>
      <option value="/oci-livelogs/010.oci_user_guide/quick_start/030.oci_basic_config/" >-- OCI 테넌시(Tenancy) 기본 설정</option>
      <option value="/oci-livelogs/010.oci_user_guide/quick_start/040.oci_linux_vm/" >-- OCI Linux VM 배포</option>
      <option value="/oci-livelogs/010.oci_user_guide/quick_start/050.oci_windows_vm/" >-- OCI Windows VM 배포</option>
  
  
    <option value="/oci-livelogs/050.data_ai/" >
   OCI Data 및 AI</option>
    <option value="/oci-livelogs/901.oci_news/" >
   OCI 새소식</option> 
    <option value="/oci-livelogs/901.oci_news/202104/" >
  - 
   2021.04 OCI 업데이트</option> 
      <option value="/oci-livelogs/901.oci_news/202104/20210406-object-storage-par-enhance/"  selected>-- Object Storage: PAR 기능 강화</option>
  
  



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/oci-livelogs/js/lunr.min.js"></script>
        <script type="text/javascript" src="/oci-livelogs/js/auto-complete.js"></script>
        <link href="/oci-livelogs/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "http:\/\/taewan.kim\/oci-livelogs";
          
        </script>
        <script type="text/javascript" src="/oci-livelogs/js/search.js"></script>
      </div>
    <h1>Object Storage: PAR 기능 강화</h1>


     
      
  
    
    
    
    

<p>merong</p>

<p>다음과 같은 2021.04.06와 2021.04.09에 발표된 OCI Object Storage의 기능 업데이트 소식을 정리합니다.</p>

<ul>
<li><a href="https://docs.oracle.com/en-us/iaas/releasenotes/changes/09c8ae1d-414f-4988-9b25-c61064ca28c6/" target="_blank">[2021.04.06:Release Note]Object Storage pre-authenticated request enhancements <span class="glyphicon glyphicon-new-window" style="font-size:medium" aria-hidden="true"></span> </a>

</li>
<li><a href="https://docs.oracle.com/en-us/iaas/releasenotes/changes/336e7679-2c06-48eb-a8ed-cd74f21a80a8/" target="_blank">[2021.04.09:Release Note]Object Storage Console bucket delete enhancements <span class="glyphicon glyphicon-new-window" style="font-size:medium" aria-hidden="true"></span> </a>

</li>
</ul>

<table>
<thead>
<tr>
<th>Pre-authenticated request enhancements</th>
<th>Bucket delete enhancements</th>
</tr>
</thead>

<tbody>
<tr>
<td><img src="https://taewanmerepo.github.io/2021/04/news01/img01.jpg" alt="" /></td>
<td><img src="https://taewanmerepo.github.io/2021/04/news01/img02.jpg" alt="" /></td>
</tr>
</tbody>
</table>

<div class="notices note" ><p><p><strong><font color='red'>OCI 새 소식</font></strong>은 <strong><font color='red'>OCI Release Notes</font></strong></a>에서 발표한 OCI 신규 업데이트 내용을 정리하는 섹션입니다. OCI 신규 기능 개선의 빠른 정보 전달을 목표로 합니다.</p>
</p></div>


<h2 id="pre-authenticated-request-par-업데이트">Pre-Authenticated Request (PAR)업데이트</h2>

<p>PAR(사전 인증된 요청, Pre-Authenticated Request)은 OCI Object Storage에 저장된 파일을 별도 인증 없이 접근하고 수정하는 RESTful API를 제공하는 기능입니다. OCI Object Storage에 저장된 파일에 PAR을 생성하면, 누구든지 인터넷을 통해서 대상 파일에 접근할 수 있고, 수정할 수 있습니다. PAR는 다음과 같은 특징을 갖습니다.</p>

<ul>
<li>OCI Object Storage Bucket과 Object를 대상</li>
<li><strong><font color='red'>[New Update]</font></strong> Bucket에 PAR를 생성할 경우 Bucket에 생성된 모든 파일에 적용</li>
<li><strong><font color='red'>[New Update]</font></strong> Bucket의 특정 접두사(Prefix)에 PAR 범위를 한정 가능</li>
<li>인증 없이 파일 접근 &amp; 업데이트 설정하는 RESTful API(URL 제공)</li>
<li><strong><font color='red'>[New Update]</font></strong> Bucket 전체를 대상으로 생성된 PAR 범위의 대상 파일 목록 조회</li>
<li><strong><font color='red'>[New Update]</font></strong> Bucket에 특정 Prefix에 생성된 PAR의 대상 파일 목록 조회<br /></li>
<li>PAR를 통해서 파일 읽기, 수정 및 생성 기능 제공 (GET/PUT 지원)</li>
<li>PAR을 통해서 파일 삭제는 불가능</li>
<li>생성할 수 있는 PAR 수는 제한 없음</li>
<li>생성된 PAR은 수정할 수 없음

<ul>
<li>PAR 생성 시 공개한 URL은 추후 조회할 수 없음</li>
</ul></li>
<li>만료 기간 설정 지원</li>
<li>PAR이 만료되거나 삭제되면 해당 RESTful API는 소멸</li>
<li>PAR은 OCI Console, OCI CLI, OCI SDK 및 REST API로 제거</li>
</ul>

<h2 id="bucket-삭제-업데이트">Bucket 삭제 업데이트</h2>

<p>OCI Object Storage의 Bucket을 OCI Console에서 삭제하려 할 때, 해당 Bucket에 파일이 존재하면 삭제가 발가능 했습니다. 이 부분이 다음과 같은 확인 절차를 통해서 삭제 가능하도록 변경됐습니다.</p>

<table>
<thead>
<tr>
<th>버킷 삭제 확인</th>
<th>대상 버킷 이름 입력</th>
</tr>
</thead>

<tbody>
<tr>
<td><img src="https://taewanmerepo.github.io/2021/04/news01/img03.jpg" alt="" /></td>
<td><img src="https://taewanmerepo.github.io/2021/04/news01/img04.jpg" alt="" /></td>
</tr>
</tbody>
</table>

<h2 id="oci-release-notes-데모">OCI Release Notes 데모</h2>

<p>OCI Object Storage의 PAR 기능 개선과
OCI Console, OCI Cloud Shell을 이용하여 Object Storage의 신규 기능에 대한 데모를 진행합니다. 다음과 같은 정보(URL), 명령어 및 코드를 사용합니다.</p>

<p>현재 데모를 실습하기 위해서는 데모는 OCI 계정이 있고 기본 설정을 먼저 진행해야 합니다. 현재 OCI 계정과 기본 환경 구성이 안된 상태라면 다음 두 개 Livelog를 참조하여 사전 준비를 먼저 진행해 주시기 바랍니다.</p>

<ul>
<li>아래 이미지를 클릭하면 해당 Livelog로 이동합니다.</li>
</ul>

<table>
<thead>
<tr>
<th>Livelog1: OCI 계정 생성</th>
<th>Livelog2: OCI 기본 설정</th>
</tr>
</thead>

<tbody>
<tr>
<td><a href="http://taewan.kim/livelog/00.oci_free_tier/" target='_blank'><img src="https://taewanmerepo.github.io/2021/03/livelog04/img02.jpg" alt="" /></a></td>
<td><a href="http://taewan.kim/livelog/01.oci_initial_setup/" target='_blank'><img src="https://taewanmerepo.github.io/2021/03/livelog04/img01.jpg" alt="" /></a></td>
</tr>
</tbody>
</table>

<h4 id="1-데모-데이터-다운로드">1. 데모 데이터 다운로드</h4>

<p>데모로 사용할 데이터는 다음 URL에서 다운로드할 수 있습니다.</p>

<ul>
<li><a href="https://objectstorage.ap-seoul-1.oraclecloud.com/p/iAY-HfREkqAh1SpHS-GhfWHBu4mer3soFEFTTZaG6BG1FNZn2RYk7JuGjaKjqZv2/n/cnwky3co9wbs/b/demo_date/o/demo_imgs.zip">https://objectstorage.ap-seoul-1.oraclecloud.com/p/iAY-HfREkqAh1SpHS-GhfWHBu4mer3soFEFTTZaG6BG1FNZn2RYk7JuGjaKjqZv2/n/cnwky3co9wbs/b/demo_date/o/demo_imgs.zip</a></li>
</ul>

<p>다음 링크를 클릭하여 데모 데이터를 로컬 컴퓨터에 다운로드합니다. ZIP 파일을 다운로드하고 압축을 풉니다.</p>

<ul>
<li><a href="https://objectstorage.ap-seoul-1.oraclecloud.com/p/iAY-HfREkqAh1SpHS-GhfWHBu4mer3soFEFTTZaG6BG1FNZn2RYk7JuGjaKjqZv2/n/cnwky3co9wbs/b/demo_date/o/demo_imgs.zip" target="_blank">https://objectstorage.ap-seoul-1.oraclecloud.com/p/iAY-HfREkqAh1SpHS-GhfWHBu4mer3soFEFTTZaG6BG1FNZn2RYk7JuGjaKjqZv2/n/cnwky3co9wbs/b/demo_date/o/demo_imgs.zip <span class="glyphicon glyphicon-new-window" style="font-size:medium" aria-hidden="true"></span> </a>

</li>
</ul>

<h4 id="2-bucket-생성">2. Bucket 생성</h4>

<p>다음 정보로 버킷을 생성합니다.</p>

<table>
<thead>
<tr>
<th>항목</th>
<th>설정값</th>
</tr>
</thead>

<tbody>
<tr>
<td>컴파트먼트</td>
<td>demo</td>
</tr>

<tr>
<td>버킷이름</td>
<td>demo_bk</td>
</tr>

<tr>
<td>스토리지계층</td>
<td>표준</td>
</tr>

<tr>
<td>암호화</td>
<td>오라클 관리 키를 사용하여 암호화</td>
</tr>
</tbody>
</table>

<h4 id="3-demo-bk에-파일-업로드">3. demo_bk에 파일 업로드</h4>

<p>다운로드한 파일을 다음과 같은 정보로 demo_bk 버킷에 파일 업로드합니다.</p>

<table>
<thead>
<tr>
<th>파일 이름</th>
<th>객체이름 접두어</th>
<th>스토리지 계층</th>
</tr>
</thead>

<tbody>
<tr>
<td>img01.png</td>
<td></td>
<td>표준</td>
</tr>

<tr>
<td>img02.png</td>
<td></td>
<td>표준</td>
</tr>

<tr>
<td>img04.png</td>
<td>demo01/</td>
<td>표준</td>
</tr>

<tr>
<td>img05.png</td>
<td>demo01/</td>
<td>표준</td>
</tr>
</tbody>
</table>

<h4 id="4-demo-bk의-par-생성">4. demo_bk의 PAR 생성</h4>

<p>다음 정보로 PAR을 생성합니다.</p>

<table>
<thead>
<tr>
<th>항목</th>
<th>설정값</th>
</tr>
</thead>

<tbody>
<tr>
<td>이름</td>
<td>demo_par</td>
</tr>

<tr>
<td>사전 인증된 요청 대상</td>
<td>버킷</td>
</tr>

<tr>
<td>엑세스 타입</td>
<td>Permit Object reads and writes</td>
</tr>

<tr>
<td>Enable Object List</td>
<td>체크</td>
</tr>

<tr>
<td>만료</td>
<td>2099년 4월 18일</td>
</tr>
</tbody>
</table>

<h4 id="5-url-환경-변수-등록">5. URL 환경 변수 등록</h4>

<p>cloud shell에서 다음 명령을 수행하여 환경 변수를 등록합니다.</p>

<pre><code>export PAR_URL = &lt;&lt;PAR URL&gt;&gt;
</code></pre>

<h4 id="6-par-대상-파일-목록-조회">6. PAR 대상 파일 목록 조회</h4>

<p>oci cloud shell에서 다음 명령을 실행하여 PAR로 공개된 대상 파일 목록을 조회합니다.</p>

<pre><code>curl -X GET  $PAR_URL | jq .

echo $PAR_URL

</code></pre>

<h4 id="7-par-대상-파일-조회">7. PAR 대상 파일 조회</h4>

<p>PAR URL과 앞에서 조회한 파일 목록을 조합하여 대상 파일을 브라우저로 조회합니다.</p>

<ul>
<li>$PAR_URL

<ul>
<li>img01.png</li>
<li>img02.png</li>
<li>demo01/img04.png</li>
<li>demo01/img05.png</li>
</ul></li>
</ul>

<h4 id="8-par을-이용한-파일-수정">8. PAR을 이용한 파일 수정</h4>

<p>oci cloud shell에서 다음 명령을 실행합니다.</p>

<ul>
<li>cloud shell에서 파일 다운로드</li>
<li>압축 풀기</li>
<li>디렉터리 이동(./demo_imgs/put)</li>
</ul>

<pre><code>wget https://objectstorage.ap-seoul-1.oraclecloud.com/p/iAY-HfREkqAh1SpHS-GhfWHBu4mer3soFEFTTZaG6BG1FNZn2RYk7JuGjaKjqZv2/n/cnwky3co9wbs/b/demo_date/o/demo_imgs.zip
jar xvf demo_imgs.zip
cd ~/demo_imgs/put
</code></pre>

<ul>
<li>img02.png 파일 업데이트</li>
</ul>

<pre><code>IMG02_URL=$PAR_URL'img02.png'

curl -X PUT  --data-binary '@img02_updated.png'   \
-H 'Content-Type: image/png'                      \
$IMG02_URL

echo $IMG02_URL
echo &quot;Please check the url&quot;

</code></pre>

<p>브라우저에서 수정된 파일을 조회합니다.</p>

<h4 id="7-par을-이용한-새로운-파일-등록">7. PAR을 이용한 새로운 파일 등록</h4>

<ul>
<li>img03.png 파일 추가</li>
</ul>

<pre><code>IMG03_URL=$PAR_URL'img03.png'

curl -X PUT  --data-binary '@img03.png'   \
-H 'Content-Type: image/png'              \
$IMG03_URL

echo @IMG03_URL
echo &quot;Please check the url&quot;

</code></pre>

<p>브라우저에서 새로 추가된 파일(img03.png)을 조회합니다.</p>

<h4 id="8-demo-bk의-접두어를-포함한-par-생성">8. demo_bk의 접두어를 포함한 PAR 생성</h4>

<p>다음 정보로 접두어를 포함한 PAR을 생성합니다.</p>

<table>
<thead>
<tr>
<th>항목</th>
<th>설정값</th>
</tr>
</thead>

<tbody>
<tr>
<td>이름</td>
<td>demo_prefix_par</td>
</tr>

<tr>
<td>사전 인증된 요청 대상</td>
<td>Objects with Prefix</td>
</tr>

<tr>
<td>엑세스 타입</td>
<td>Permit object reads and writes to those with the specified prefix</td>
</tr>

<tr>
<td>Enable Object List</td>
<td>체크</td>
</tr>

<tr>
<td>만료</td>
<td>2099년 4월 18일</td>
</tr>
</tbody>
</table>

<h4 id="9-접두어를-포함한-par을-이용한-파일-목록-조회">9. 접두어를 포함한 PAR을 이용한 파일 목록 조회</h4>

<p>cloud shell에서 다음 명령을 수행하여 환경 변수를 등록합니다.</p>

<pre><code>export PAR_PREFIX_URL = &lt;&lt;PAR URL with Prefix&gt;&gt;
</code></pre>

<p>cloud shell에서 다음 명령을 수행하여 접두어를 포함한 PAR을 이용항 파일 목록을 조회합니다.</p>

<pre><code>curl -X GET  $PAR_PREFIX_URL | jq .
</code></pre>

<h4 id="10-python-코드를-이용한-목록-조회">10. Python 코드를 이용한 목록 조회</h4>

<p>python3 인터프리터에서 다음 코드 실행하여 접두어를 포함한 PAR로 파일 목록을 조회합니다.</p>

<pre><code>import requests
import os

par_prefix_url = os.environ['PAR_URL']

response = requests.get(par_prefix_url)
print(response.text)
</code></pre>

<h4 id="11-python-코드를-이용한-파일-읽기">11. Python 코드를 이용한 파일 읽기</h4>

<p>python3 인터프리터에서 다음 코드 실행하여 접두어를 포함한 PAR로 파일을 조회합니다.</p>

<pre><code>import requests
import os

par_url=os.environ['PAR_URL']
response = requests.get(par_url+'img03.png')

file = open(&quot;download.png&quot;, &quot;wb&quot;)
file.write(response.content)
file.close()
</code></pre>

<p>cloud shell에 다운로드한 파일을 확인합니다.</p>

<h4 id="12-python-코드를-이용한-파일-수정">12. Python 코드를 이용한 파일 수정</h4>

<p>python3 인터프리터에서 다음 코드 실행하여 접두어를 포함한 PAR URL을 이용하여 새로운 파일을 업로드합니다.</p>

<pre><code>import requests
import os

par_url=os.environ['PAR_URL']

with open('./put/img03_updated_by_python.png', 'rb') as f:
    data = f.read()

res = requests.put(url=par_url+'img03.png',
                    data=data,
                    headers={'Content-Type': 'image/png'})
print(res.text)          
print(&quot;===URL===&quot;)   
print(&quot;par_url+'img03_updated_by_python.png')       
</code></pre>

<h4 id="12-python-코드를-이용한-파일-업로드">12. Python 코드를 이용한 파일 업로드</h4>

<p>python3 인터프리터에서 다음 코드 실행하여 접두어를 포함한 PAR URL을 이용하여 새로운 파일을 업로드합니다.</p>

<pre><code>import requests
import os

par_prefix_url=os.environ['PAR_PREFIX_URL']

with open('./img06.png', 'rb') as f:
    data = f.read()

res = requests.put(url=par_prefix_url+'img06.png',
                    data=data,
                    headers={'Content-Type': 'image/png'})
print(res.text)             
print(&quot;URL:&quot;+par_url+'img06.png')       
</code></pre>

<h4 id="13-oci-cli로-par-조회">13. OCI CLI로 PAR 조회</h4>

<p>OCI Cloud Shell에서 다음 <strong>OCI CLI</strong> 명령을 실행하여 PAR 목록을 조회합니다.</p>

<ul>
<li><p>OCI Object Storage 조회</p>

<pre><code>oci os ns get
</code></pre></li>

<li><p>환경변수 등록</p>

<pre><code>export OBJ_NAMESPACE=&lt;&lt;위에서 조회한 namespace 설정&gt;&gt;
</code></pre></li>

<li><p>PAR 목록 조회</p>

<pre><code>oci os preauth-request list --namespace $OBJ_NAMESPACE \
--bucket-name demo_bk | jq .
</code></pre></li>
</ul>

<h4 id="14-oci-cli로-par-삭제">14. OCI CLI로 PAR 삭제</h4>

<p>OCI Cloud Shell에서 다음 <strong>OCI CLI</strong> 명령을 실행하여 <strong>demo_par</strong>를 제거합니다.</p>

<pre><code>oci os preauth-request delete --namespace $OBJ_NAMESPACE \
 --bucket-name demo_bk \
 --par-id 

</code></pre>

<p>삭제한 <strong>demo_par</strong> URL을 브라우저로 호출하여 해당 파일을 더 이상 조회할 수 없음을 확인합니다.</p>

<h4 id="15-oci-console에서-bucket-삭제">15. OCI Console에서 Bucket 삭제</h4>

<p>OCI Console에서 데모에 사용한 버킷을 삭제합니다.</p>


    
    
      <div class="alert alert-info" role="alter">
  <li><strong>문서 생성:</strong> 2020-04-11 09:11 / <string>최종 문서 수정:</strong> 2020-04-11 09:11 </li>
</div><div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/oci-livelogs/901.oci_news/202104/" title="2021.04 OCI 업데이트"> <i class="fa fa-chevron-left"></i><label>2021.04 OCI 업데이트</label></a>
    <a class="nav nav-next" href="/oci-livelogs/000.index/" title="OCI LiveLogs" style="margin-right: 0px;"><label>OCI LiveLogs</label><i class="fa fa-chevron-right"></i></a></div>
  </div>
  <div class="chevrons">
      <div class="row">
    <div class="author left">
        <img alt="김태완 avatar" src="https://taewanmerepo.github.io//taewan2.jpg" height="90" width="90">
    </div>
    <div class="author right">
		<li><b>작성자: 김태완</b></li>
        <li>사랑하는 민수와 데이터 관리, 데이터 분석 &amp; 클라우드에 집중하고 있습니다.</li>
        <li>E-mail: taewan.me@gmail.com</li>
    </div>
</div><div class="panel panel-danger">
<div class="panel-heading">Disclaimer</div>
<div class="panel-body">이 저작물은 Oracle과 관계없이 개인으로서 개인의 시간을 할애하여 작성된 글 입니다. 본 글의 내용, 입장, 예측은 Oracle을 공식적으로 <font color="red"><bold>절대</bold></font> 대변하지 않습니다.</div>
</div>
<hr />


<div class="fb-comments" data-width="100%" data-numposts="10" data-href="http://taewan.kimhttp://taewan.kim/oci-livelogs/901.oci_news/202104/20210406-object-storage-par-enhance/"></div>

  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    
    <div class="date">
        <i class='fa fa-calendar'></i> Last update on 11/04/2020
    </div>
    
  </div>


	<div>


  



  </div>
  
  
</footer>

<script src="/oci-livelogs/js/clipboard.min.js"></script>

<link href="/oci-livelogs/css/featherlight.min.css" rel="stylesheet">
<script src="/oci-livelogs/js/featherlight.min.js"></script>



<script src="/oci-livelogs/theme-flex/script.js"></script>
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        
        ga('create', 'UA-72835175-1', 'auto');
        ga('send', 'pageview');
</script>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = 'https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v3.2&appId=404519239985000&autoLogAppEvents=1';
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>



    

    
    

    


  </body>
</html>